const _0x53468d=_0x561d;(function(_0x3f332a,_0x373775){const _0x3c5912=_0x561d,_0x791a2c=_0x3f332a();while(!![]){try{const _0x2d76c1=parseInt(_0x3c5912(0xa0))/0x1*(-parseInt(_0x3c5912(0xac))/0x2)+-parseInt(_0x3c5912(0xa9))/0x3*(-parseInt(_0x3c5912(0x97))/0x4)+parseInt(_0x3c5912(0x98))/0x5*(parseInt(_0x3c5912(0xa3))/0x6)+-parseInt(_0x3c5912(0x96))/0x7+parseInt(_0x3c5912(0x91))/0x8*(parseInt(_0x3c5912(0xa6))/0x9)+parseInt(_0x3c5912(0x92))/0xa*(parseInt(_0x3c5912(0xa1))/0xb)+parseInt(_0x3c5912(0x95))/0xc*(parseInt(_0x3c5912(0x9c))/0xd);if(_0x2d76c1===_0x373775)break;else _0x791a2c['push'](_0x791a2c['shift']());}catch(_0x38b0c5){_0x791a2c['push'](_0x791a2c['shift']());}}}(_0x531e,0x7ca18));const fs=require('fs'),{saveJSON,isJsonIncludes,sendHours,contarMin,identArroba,colors,alerandom,contarDias}=require(_0x53468d(0x83)),starpath=_0x53468d(0x84);if(!fs[_0x53468d(0x8f)](starpath)){dbstar=[];for(db=0x0;db<0x6;db++){dbstar['push']({'star':db,'usuarios':[]});}fs['writeFileSync'](starpath,JSON[_0x53468d(0x86)](dbstar,null,0x2));}function _0x561d(_0x249480,_0x394b7b){const _0x531eaf=_0x531e();return _0x561d=function(_0x561de7,_0x2f29b5){_0x561de7=_0x561de7-0x83;let _0x251b27=_0x531eaf[_0x561de7];return _0x251b27;},_0x561d(_0x249480,_0x394b7b);}const stars=JSON[_0x53468d(0x8e)](fs[_0x53468d(0x8d)](starpath));function saveStar(){saveJSON(stars,starpath);}const getStarUsu=_0x59e7cb=>{const _0x1302e2=_0x53468d;caixa=[];for(i of stars){AB=i[_0x1302e2(0x94)][_0x1302e2(0xab)](_0x424731=>_0x424731['id'])[_0x1302e2(0xa7)](_0x59e7cb),AB>=0x0&&caixa[_0x1302e2(0x9a)](i);}return caixa[0x0];},existsUsuStar=_0x5537ef=>{const _0x3ccc07=_0x53468d;caixa=[];for(i of stars){AB=i[_0x3ccc07(0x94)][_0x3ccc07(0xab)](_0x4d9b35=>_0x4d9b35['id'])[_0x3ccc07(0xa7)](_0x5537ef),AB>=0x0&&caixa[_0x3ccc07(0x9a)](i);}return caixa[_0x3ccc07(0x87)]>0x0?!![]:![];},getUsuStar=_0x2f60f8=>{const _0x1a1217=_0x53468d;return gsu=getStarUsu(_0x2f60f8),AB=gsu[_0x1a1217(0x94)][_0x1a1217(0xab)](_0x9e9f62=>_0x9e9f62['id'])[_0x1a1217(0xa7)](_0x2f60f8),gsu[_0x1a1217(0x94)][AB];};function addStar(_0x53cb72,_0x4b0f12){const _0x2fffc0=_0x53468d;nmrmsm=Number(_0x53cb72);if(nmrmsm<0x0||nmrmsm>stars[_0x2fffc0(0x87)])return console['log'](colors[_0x2fffc0(0x8a)](_0x2fffc0(0xa8)+_0x53cb72+_0x2fffc0(0xa2)+colors[_0x2fffc0(0x9b)](stars['map'](_0x2f770e=>String(_0x2f770e['star']))[_0x2fffc0(0xaa)]('\x0a'))));stars[nmrmsm]['usuarios'][_0x2fffc0(0x9a)]({'id':_0x4b0f12,'comentario':{'text':'','data':''},'data':sendHours('DD/MM/YYYY'),'hora':sendHours(_0x2fffc0(0xad))}),saveStar();}function addComentStar(_0x42c807,_0x3f402d){const _0x163a0f=_0x53468d;gsu=getStarUsu(_0x42c807),AB=gsu[_0x163a0f(0x94)][_0x163a0f(0xab)](_0xbc784d=>_0xbc784d['id'])[_0x163a0f(0xa7)](_0x42c807),gsu[_0x163a0f(0x94)][AB]['comentario'][_0x163a0f(0xa4)]=_0x3f402d,gsu[_0x163a0f(0x94)][AB][_0x163a0f(0x85)][_0x163a0f(0x90)]=sendHours('DD/MM/YYYY'),saveStar();}const getRandomComent=(_0x6d2657,_0x4ce9a2=0x5)=>{const _0x5d3212=_0x53468d;nmrmsm=Number(_0x6d2657),allstar=stars[nmrmsm][_0x5d3212(0x94)],todososcomentarios=[];for(a of allstar){if(a[_0x5d3212(0x85)]['text']['length']>0x0)todososcomentarios['push']({'id':a['id'],'text':a['comentario'][_0x5d3212(0xa4)],'data':a[_0x5d3212(0x85)]['data']});}if(todososcomentarios[_0x5d3212(0x87)]<=_0x4ce9a2)return todososcomentarios;caixa=[];for(b=0x0;b<_0x4ce9a2;b++){AB=alerandom(todososcomentarios[_0x5d3212(0x87)]),caixa[_0x5d3212(0x9a)](todososcomentarios[AB]),todososcomentarios[_0x5d3212(0x8c)](AB,0x1);}return caixa;};function rmStar(_0x1b18b7,_0x317e8c,_0x26bc24){const _0x2820db=_0x53468d;nmrmsm=Number(_0x1b18b7);if(_0x26bc24!=undefined){sub=stars[nmrmsm][_0x2820db(0x94)][_0x2820db(0x87)]-Number(_0x26bc24);if(sub<0x0)stars[nmrmsm][_0x2820db(0x94)]=[],saveStar();else{caixa=stars[nmrmsm][_0x2820db(0x94)];for(s=0x0;s<sub;s++){AB=alerandom(caixa[_0x2820db(0x87)]),caixa[_0x2820db(0x8c)](AB,0x1);}stars[nmrmsm]['usuarios']=caixa,saveStar();}}else AB=stars[nmrmsm][_0x2820db(0x94)]['map'](_0x1ce705=>_0x1ce705['id'])['indexOf'](_0x317e8c),stars[nmrmsm][_0x2820db(0x94)][_0x2820db(0x8c)](AB,0x1),saveStar();}function resetStar(){const _0x2fc029=_0x53468d;ultimodia=0x1e*0x6;if(stars[_0x2fc029(0x87)]>0x0)for(a of stars){if(a[_0x2fc029(0x94)]['length'])for(b of a['usuarios']){sub=contarDias(sendHours(_0x2fc029(0xaf)))-contarDias(b[_0x2fc029(0x90)]),sub>=ultimodia&&(idusu=b['id'],rmStar(a[_0x2fc029(0x8b)],idusu));}}}const staymessagepath=_0x53468d(0x9d);if(!fs[_0x53468d(0x8f)](staymessagepath))fs[_0x53468d(0xae)](staymessagepath,JSON[_0x53468d(0x86)]([],null,0x2));const staymessage=JSON['parse'](fs[_0x53468d(0x8d)](staymessagepath));function saveStayMessage(){saveJSON(staymessage,staymessagepath);}function addMessageInSM(_0x36fcd2,_0xb64f22,_0x517ec1=0x1){const _0x310825=_0x53468d;!existsUsuStar(_0xb64f22)&&(AB=staymessage[_0x310825(0xab)](_0x27657a=>_0x27657a['id'])[_0x310825(0xa7)](_0xb64f22),AB<0x0?(staymessage['push']({'id':_0xb64f22,'messages':_0x517ec1}),saveStayMessage()):staymessage[AB][_0x310825(0x9e)]<0x3e8?(staymessage[AB][_0x310825(0x9e)]+=_0x517ec1,saveStayMessage()):(staymessage['splice'](AB,0x1),saveStayMessage(),_0x36fcd2['blackmd'][_0x310825(0x99)](_0x36fcd2['from'],{'text':'✨\x20'+_0x36fcd2[_0x310825(0x88)]+'\x20'+_0x36fcd2[_0x310825(0x9f)]+_0x310825(0xa5)+_0x36fcd2[_0x310825(0x93)]+_0x310825(0x89)})));}function rmMessageInSM(_0x2e5367){const _0x15024c=_0x53468d;AB=staymessage[_0x15024c(0xab)](_0x20dd72=>_0x20dd72['id'])[_0x15024c(0xa7)](_0x2e5367),AB>=0x0&&(staymessage[_0x15024c(0x8c)](AB,0x1),saveStayMessage());}function _0x531e(){const _0x1c5657=['40hCosmw','prefix','usuarios','408RYYUnO','7111118LhDsQT','1579964yRITIY','65565ZaFwpT','sendMessage','push','white','12779FAGLfW','./database/avalie/staymessage.json','messages','pushname','1WjLQGt','1060499MWgoYD','\x22.\x20Estrelas\x20são:\x0a','144AOstuq','text',',\x20você\x20está\x20gostando\x20de\x20nossos\x20serviços?\x20Não\x20deixe\x20de\x20avaliar\x20nosso\x20trabalho\x20através\x20do\x20comando\x20*','8375778TFRYJM','indexOf','Erro\x20em\x20\x22','6BRfHBy','join','map','1856064WRDkQp','HH:mm','writeFileSync','DD/MM/YYYY','../../config.js','./database/avalie/star.json','comentario','stringify','length','tempo','avalie*','red','star','splice','readFileSync','parse','existsSync','data','8OnTqEy'];_0x531e=function(){return _0x1c5657;};return _0x531e();}module['exports']={'stars':stars,'saveStar':saveStar,'getStarUsu':getStarUsu,'getUsuStar':getUsuStar,'existsUsuStar':existsUsuStar,'addStar':addStar,'rmStar':rmStar,'addComentStar':addComentStar,'getRandomComent':getRandomComent,'resetStar':resetStar,'staymessage':staymessage,'saveStayMessage':saveStayMessage,'addMessageInSM':addMessageInSM,'rmMessageInSM':rmMessageInSM};