const _0x5cb3f7=_0x4ec7;(function(_0x32995d,_0x1d1ef7){const _0x16ce4b=_0x4ec7,_0x91df4d=_0x32995d();while(!![]){try{const _0xcc750f=parseInt(_0x16ce4b(0x157))/0x1*(parseInt(_0x16ce4b(0x13c))/0x2)+-parseInt(_0x16ce4b(0x14c))/0x3+-parseInt(_0x16ce4b(0x150))/0x4*(parseInt(_0x16ce4b(0x134))/0x5)+-parseInt(_0x16ce4b(0x13e))/0x6+-parseInt(_0x16ce4b(0x155))/0x7*(parseInt(_0x16ce4b(0x136))/0x8)+parseInt(_0x16ce4b(0x15b))/0x9*(-parseInt(_0x16ce4b(0x154))/0xa)+-parseInt(_0x16ce4b(0x156))/0xb*(-parseInt(_0x16ce4b(0x14e))/0xc);if(_0xcc750f===_0x1d1ef7)break;else _0x91df4d['push'](_0x91df4d['shift']());}catch(_0x3220f9){_0x91df4d['push'](_0x91df4d['shift']());}}}(_0x40d9,0xf2b4e));function _0x40d9(){const _0x4ff32d=['5079575TeJXMD','hora','11192GinFGm','func','groupId','DDMMYYHHmmss','announcement','includes','294638YIbZQd','splice','7233516qdlorn','\x20em\x20horário\x20programado\x20com\x20sucesso*\x20❌','slice','length','adm','open','indexOf','\x22indefinido\x22','[❕]\x20*O\x20grupo\x20','sendMessage','[❗]\x20*O\x20grupo\x20','../../config.js','parse','not_announcement','5186169RHkJOR','save','24IgKmMb','push','4mQEMKb','map','close','dias','3480890WzpPFi','4648EVfyhn','28029507YQNiBt','10sPTiMu','writeFileSync','existsSync','split','18VCyXRV','\x20foi\x20fechado\x20pelo\x20ADM\x20@','toLowerCase','HH:mm','horarios','stringify','subject','groupSettingUpdate','cobrado','\x20em\x20horário\x20programado\x20com\x20sucesso*\x20✔','\x20foi\x20aberto\x20pelo\x20ADM\x20@','exports','./operacao/abrir-fechar-grupo/openclosegp.json'];_0x40d9=function(){return _0x4ff32d;};return _0x40d9();}const fs=require('fs'),{saveJSON,isJsonIncludes,contarMin,converterMin,sendHours,sleep,getGroupAdmins}=require(_0x5cb3f7(0x149)),ocgrouppath=_0x5cb3f7(0x133);!fs[_0x5cb3f7(0x159)](ocgrouppath)&&fs[_0x5cb3f7(0x158)](ocgrouppath,JSON[_0x5cb3f7(0x160)]([]));const openclosegp=JSON[_0x5cb3f7(0x14a)](fs['readFileSync'](ocgrouppath));function saveOpenCloseGP(){saveJSON(openclosegp,ocgrouppath);}function rgGroupOCfunc(_0x1cc49b){const _0xc52636=_0x5cb3f7;!isJsonIncludes(openclosegp,_0x1cc49b)&&(openclosegp[_0xc52636(0x14f)]({'groupId':_0x1cc49b,'horarios':[]}),saveOpenCloseGP());}const getGroupOpenCloseFunc=_0x1ded0d=>{const _0x428590=_0x5cb3f7;caixa=[];for(i of openclosegp){if(_0x1ded0d==i['groupId'])caixa['push'](i);}return caixa[0x0][_0x428590(0x15f)];};function addOpenCloseGP(_0xae9ccc,_0x364cfd,_0x40cb0d,_0x31ce1c=_0x5cb3f7(0x143)){const _0x2f9447=_0x5cb3f7;if(_0x364cfd[_0x2f9447(0x13b)](':'))a=contarMin(_0x364cfd),b=a%0x5a0,day=(a-b)/0x5a0,hr=converterMin(b);else{letra=String(_0x364cfd)[_0x2f9447(0x140)](_0x364cfd[_0x2f9447(0x141)]-0x1,_0x364cfd[_0x2f9447(0x141)])[_0x2f9447(0x15d)]();if(letra=='d')mp=0x3c*0x18;else{if(letra=='h')mp=0x3c;else mp=0x1;}nmr=Number(String(_0x364cfd)['slice'](0x0,_0x364cfd[_0x2f9447(0x141)]-0x1))||0x1,nmr*=mp,ha=contarMin(sendHours(_0x2f9447(0x15e)))+nmr,parte=ha%0x5a0,day=(ha-parte)/0x5a0,hr=converterMin(parte);}day==0x0&&contarMin(hr)<contarMin(sendHours(_0x2f9447(0x15e)))&&(day+=0x1),grupo=getGroupOpenCloseFunc(_0xae9ccc),grupo[_0x2f9447(0x14f)]({'id':sendHours(_0x2f9447(0x139)),'func':_0x31ce1c,'hora':hr,'dias':day,'save':sendHours('DD'),'cobrado':![],'adm':_0x40cb0d}),saveOpenCloseGP();}const getLastOpenCloseGP=_0x116ee3=>{const _0x5a394f=_0x5cb3f7;return grupo=getGroupOpenCloseFunc(_0x116ee3),grupo[grupo[_0x5a394f(0x141)]-0x1];},isIDopenCloseGP=(_0x87930,_0x4b6311)=>{const _0x1f2676=_0x5cb3f7;return grupo=getGroupOpenCloseFunc(_0x87930),AB=grupo[_0x1f2676(0x151)](_0x20fa83=>_0x20fa83['id'])[_0x1f2676(0x144)](_0x4b6311),AB>=0x0?!![]:![];};function _0x4ec7(_0x4bbf49,_0x64c952){const _0x40d9dc=_0x40d9();return _0x4ec7=function(_0x4ec7db,_0x55953e){_0x4ec7db=_0x4ec7db-0x130;let _0x185a22=_0x40d9dc[_0x4ec7db];return _0x185a22;},_0x4ec7(_0x4bbf49,_0x64c952);}function rmOpenCloseGP(_0x42c2b6,_0x21fd16){const _0xe2a491=_0x5cb3f7;grupo=getGroupOpenCloseFunc(_0x42c2b6),AB=grupo[_0xe2a491(0x151)](_0x5d8a2a=>_0x5d8a2a['id'])[_0xe2a491(0x144)](_0x21fd16),grupo[_0xe2a491(0x13d)](AB,0x1),saveOpenCloseGP();}async function ABRIR_E_FECHAR_GRUPO(_0x994c2){const _0x135cc0=_0x5cb3f7;if(openclosegp['length']>0x0)for(abrir of openclosegp){if(abrir[_0x135cc0(0x15f)][_0x135cc0(0x141)]>0x0)for(fechar of abrir[_0x135cc0(0x15f)]){fechar[_0x135cc0(0x153)]>0x0?Number(fechar[_0x135cc0(0x14d)])!==Number(sendHours('DD'))&&(fechar[_0x135cc0(0x14d)]=sendHours('DD'),fechar[_0x135cc0(0x153)]-=0x1,saveOpenCloseGP()):contarMin(sendHours(_0x135cc0(0x15e)))>=contarMin(fechar[_0x135cc0(0x135)])&&!fechar[_0x135cc0(0x163)]&&(fechar[_0x135cc0(0x163)]=!![],saveOpenCloseGP(),grupo=abrir[_0x135cc0(0x138)],data=await _0x994c2['groupMetadata'](grupo),AB=openclosegp[_0x135cc0(0x151)](_0x5120a2=>_0x5120a2[_0x135cc0(0x138)])[_0x135cc0(0x144)](grupo),BC=openclosegp[AB]['horarios'][_0x135cc0(0x151)](_0x49a18a=>_0x49a18a['id'])[_0x135cc0(0x144)](fechar['id']),fechar[_0x135cc0(0x137)]==_0x135cc0(0x152)?(_0x994c2[_0x135cc0(0x162)](grupo,_0x135cc0(0x13a)),await sleep(0x9c4),_0x994c2[_0x135cc0(0x147)](grupo,{'text':_0x135cc0(0x148)+(data[_0x135cc0(0x161)]||_0x135cc0(0x145))+_0x135cc0(0x15c)+fechar[_0x135cc0(0x142)][_0x135cc0(0x15a)]('@')[0x0]+_0x135cc0(0x13f),'mentions':[fechar['adm']]}),openclosegp[AB][_0x135cc0(0x15f)][_0x135cc0(0x13d)](BC,0x1),saveOpenCloseGP()):(_0x994c2[_0x135cc0(0x162)](grupo,_0x135cc0(0x14b)),await sleep(0x9c4),_0x994c2[_0x135cc0(0x147)](grupo,{'text':_0x135cc0(0x146)+(data[_0x135cc0(0x161)]||_0x135cc0(0x145))+_0x135cc0(0x131)+fechar[_0x135cc0(0x142)][_0x135cc0(0x15a)]('@')[0x0]+_0x135cc0(0x130),'mentions':[fechar[_0x135cc0(0x142)]]}),openclosegp[AB][_0x135cc0(0x15f)][_0x135cc0(0x13d)](BC,0x1),saveOpenCloseGP()));}}}module[_0x5cb3f7(0x132)]={'openclosegp':openclosegp,'saveOpenCloseGP':saveOpenCloseGP,'rgGroupOCfunc':rgGroupOCfunc,'getGroupOpenCloseFunc':getGroupOpenCloseFunc,'addOpenCloseGP':addOpenCloseGP,'rmOpenCloseGP':rmOpenCloseGP,'isIDopenCloseGP':isIDopenCloseGP,'ABRIR_E_FECHAR_GRUPO':ABRIR_E_FECHAR_GRUPO,'getLastOpenCloseGP':getLastOpenCloseGP};